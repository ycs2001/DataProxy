# DataProxy 数据库目录结构

本目录用于存储DataProxy项目中的所有数据库文件，按照不同用途进行分类管理。

## 📁 目录结构

### `imported/` - 导入的数据库
- **用途**: 存放通过CLI工具正式导入的数据库文件
- **命名规范**: 
  - `context_generated_TIMESTAMP.db` - 数据字典驱动生成的数据库
  - `quick_import_TIMESTAMP.db` - 快速导入生成的数据库
  - `custom_NAME.db` - 用户自定义名称的数据库
- **特点**: 这些数据库通常配有完整的上下文配置文件

### `temp/` - 临时数据库
- **用途**: 存放测试、开发和临时使用的数据库文件
- **命名规范**: 
  - `test_TIMESTAMP.db` - 测试数据库
  - `dev_FEATURE.db` - 开发功能测试数据库
  - `temp_*.db` - 其他临时数据库
- **特点**: 这些文件可以随时删除，不影响生产使用

### `backup/` - 备份数据库
- **用途**: 存放重要数据库的备份文件
- **命名规范**: 
  - `ORIGINAL_NAME_backup_TIMESTAMP.db` - 备份文件
  - `ORIGINAL_NAME_v1.db`, `ORIGINAL_NAME_v2.db` - 版本备份
- **特点**: 用于数据恢复和版本管理

## 🔧 使用说明

### CLI工具默认路径
- `python3 dataproxy_cli.py import-with-context` → `databases/imported/`
- `python3 dataproxy_cli.py import-quick` → `databases/imported/`
- 测试和开发 → `databases/temp/`

### 配置文件关联
- 导入的数据库会在 `configs/database_contexts/` 目录下生成对应的上下文配置文件
- 配置文件中的数据库路径会自动指向正确的目录

### 清理建议
- `temp/` 目录可以定期清理
- `imported/` 目录的文件请谨慎删除，建议先备份到 `backup/` 目录
- `backup/` 目录建议定期整理，删除过期的备份文件

## 📊 数据库类型说明

### 数据字典驱动数据库
- **特点**: 保持原始数据结构，配有丰富的业务术语词典
- **配置**: 完整的上下文配置文件，支持智能查询
- **用途**: 生产环境的主要数据库类型

### 快速导入数据库
- **特点**: 简化的导入流程，基础的数据结构
- **配置**: 基本的上下文配置
- **用途**: 快速原型和简单查询场景

## 🚀 最佳实践

1. **命名规范**: 使用描述性的文件名，包含时间戳或版本信息
2. **定期备份**: 重要的数据库文件定期备份到 `backup/` 目录
3. **清理维护**: 定期清理 `temp/` 目录，避免磁盘空间浪费
4. **文档记录**: 为重要的数据库文件添加说明文档
5. **版本管理**: 对于频繁更新的数据库，使用版本号管理

## 📝 注意事项

- 数据库文件较大时，请注意磁盘空间使用情况
- 删除数据库文件前，请确认对应的上下文配置文件是否需要同时删除
- 移动数据库文件时，需要同步更新上下文配置文件中的路径信息
- 建议使用DataProxy CLI工具进行数据库管理，避免手动操作导致的路径不一致问题
